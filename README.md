# GosuslugiULparseFSSP

## О проекте

Приложение предназначено для фильтрации и сохранения входящих уведомлений на портале госуслуг для юридического лица.

**Автор:** Климов А.В.

**GitHub:** [Temni23](https://github.com/Temni23/)

## Технологии

Используемые технологии: Python 3.9, Pandas, а также несколько стандартных библиотек Python.

## Запуск проекта на локальном компьютере

Для запуска проекта необходимо иметь установленные: Python 3.9+ и pip.

**Клонирование проекта:**

```bash
git clone git@github.com:Temni23/GosuslugiULparseFSSP.git
```

**Создание виртуального окружения: :**
```bash
cd GosuslugiULparseFSSP
python -m venv venv
```


**# Linux/macOS:**
```bash
  source env/bin/activate
  ```
**# windows**
  ```bash
  source venv/Scripts/activate
  ```
**#Установка зависимостей:**
```bash
pip install -r requirements.txt
```
После установки зависимостей в корне проекта создайте файл .env по примеру env_example

```env
APP_EMAIL=example-test23@yandex.ru - почта с которой идет рассылка 

APP_EMAIL_PASSWORD=example - пароль от этой почты (внимание - пароль обычно нужно получить в соотвествующем разделе настроек почты, это не обычный пароль для входа)

EMAIL_TARGET=example@example.online example@mail.ru - Список почтовых адресов на которые отсылается уведомление при выявлении ИП в отношении нужного должника (см. файл settings)
```
В корне проекта создайте папку excel, в ней пустые файлы base.xlsx и messages.xlsx в эти файлы будет сохраняться информация. 

Откройте файл settings.py внесите необходимые настройки. Рекомендуется изменять только настройки в которых есть комментарий.

После этого приложение готово к работе.

## Работа с приложением

Зайдите на портал госуслуг от имени пользователя с необходимыми правами для просмотра уведомлений.

Откройте панель разработчика в браузере (щелчок правой кнопкой и выбор "Исследовать элемент").

Перейдите на вкладку "Networks".

Найдите запрос с URL-адресом вида: https://www.gosuslugi.ru/api/lk/v1/feeds/?unread=false&isArchive=.......

В заголовке этого запроса найдите параметр Cookie и скопируйте его значение.

Запустите приложение

```bash
python main.py
```
Приложение запросит вас ввести значение Cookie. Затем введите период проверки: число от 0 до 15, где 0 означает только сегодняшний день. Не рекомендуется задавать период более 15 дней.


Приложение предоставит возможность продолжить предыдущую проверку. Введите "N", чтобы начать проверку с самого начала периода, и "Y", чтобы продолжить предыдущую проверку. Данные для продолжения выводятся в консоль при завершении каждой проверки.


Дождитесь завершения работы приложения.



### Автор проекта А.В. Климов

